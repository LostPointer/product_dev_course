# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Å—Ö–µ–º—ã KiCad

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2024
**–§–∞–π–ª —Å—Ö–µ–º—ã:** `stm32_espc3_schemas/stm32_car_telemetry.kicad_sch`

## ‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- ‚úÖ **U1**: STM32G431CBTxZ ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **U2**: LP5907MFX-3.3 (—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä 3.3V) ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **U3**: LSM6DSM (IMU) ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **U4**: TXS0104ED (level-shifter) ‚Äî **–ù–ê–ô–î–ï–ù** ‚úÖ
- ‚úÖ **U5**: ESP32-C3-DevKitM-1 ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **Y1**: –ö–≤–∞—Ä—Ü 32.768 kHz (LSE) ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **Y2**: –ö–≤–∞—Ä—Ü (HSE –∏–ª–∏ LSE) ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. TXS0104ED level-shifter (U4)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ –∫–∞–∫ **U4**

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—Ö–µ–º–µ:**

- U1: STM32G431CBTxZ
- U2: LP5907MFX-3.3 (—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä)
- U3: LSM6DSM (IMU)
- **U4: TXS0104ED** (level-shifter) ‚úÖ
- U5: ESP32-C3-DevKitM-1

**‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç U4 (TXS0104ED) –Ω–∞–π–¥–µ–Ω –≤ —Å—Ö–µ–º–µ.

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ —Å—Ö–µ–º–µ, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å PWM:**

- `THROTTLE_OUT` ‚Äî PWM –≤—ã—Ö–æ–¥ –¥–ª—è ESC
- `STEERING_OUT` ‚Äî PWM –≤—ã—Ö–æ–¥ –¥–ª—è Servo
- `THROTTLE_IN_PWM` ‚Äî PWM –≤—Ö–æ–¥ –æ—Ç RC –ø—Ä–∏—ë–º–Ω–∏–∫–∞ CH1
- `STEERING_IN_PWM` ‚Äî PWM –≤—Ö–æ–¥ –æ—Ç RC –ø—Ä–∏—ë–º–Ω–∏–∫–∞ CH2
- `RC_Receiver_CH1` ‚Äî –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä –¥–ª—è RC –ø—Ä–∏—ë–º–Ω–∏–∫–∞ –∫–∞–Ω–∞–ª 1
- `RC_Receiver_CH2` ‚Äî –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä –¥–ª—è RC –ø—Ä–∏—ë–º–Ω–∏–∫–∞ –∫–∞–Ω–∞–ª 2
- `ESC_Signal1` ‚Äî –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä –¥–ª—è ESC
- `Servo_Signal1` ‚Äî –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä –¥–ª—è Servo

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ U4 (TXS0104ED) –≤ KiCad:**

**–ü–∏—Ç–∞–Ω–∏–µ:**

- [ ] VCCA (pin 1) ‚Üí 3.3V (–º–µ—Ç–∫–∞ `3V3` –≤ —Å—Ö–µ–º–µ)
- [ ] VCCB (pin 14) ‚Üí 5V (–º–µ—Ç–∫–∞ `5V1` –≤ —Å—Ö–µ–º–µ)
- [ ] GND (pins 10, 11) ‚Üí –æ–±—â–∞—è –∑–µ–º–ª—è (–º–µ—Ç–∫–∞ `GND`)

**PWM –≤—ã—Ö–æ–¥—ã (STM32 ‚Üí ESC/Servo —á–µ—Ä–µ–∑ U4):**

- [ ] A1 (pin 2) ‚Üí PA8 (STM32 PWM –≤—ã—Ö–æ–¥, TIM1_CH1) ‚Üí –º–µ—Ç–∫–∞ `THROTTLE_OUT`
- [ ] B1 (pin 3) ‚Üí ESC Signal (5V, –∫ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—É `ESC_Signal1`)
- [ ] A2 (pin 4) ‚Üí PA9 (STM32 PWM –≤—ã—Ö–æ–¥, TIM1_CH2) ‚Üí –º–µ—Ç–∫–∞ `STEERING_OUT`
- [ ] B2 (pin 5) ‚Üí Servo Signal (5V, –∫ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—É `Servo_Signal1`)

**PWM –≤—Ö–æ–¥—ã (RC –ø—Ä–∏—ë–º–Ω–∏–∫ ‚Üí STM32 —á–µ—Ä–µ–∑ U4):**

- [ ] B3 (pin 7) ‚Üí RC Receiver CH1 (5V, –æ—Ç –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞ `RC_Receiver_CH1`) ‚Üí –º–µ—Ç–∫–∞ `THROTTLE_IN_PWM`
- [ ] A3 (pin 6) ‚Üí PA0 (STM32 PWM –≤—Ö–æ–¥, TIM2_CH1) ‚Üí –º–µ—Ç–∫–∞ `THROTTLE_IN_PWM`
- [ ] B4 (pin 9) ‚Üí RC Receiver CH2 (5V, –æ—Ç –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞ `RC_Receiver_CH2`) ‚Üí –º–µ—Ç–∫–∞ `STEERING_IN_PWM`
- [ ] A4 (pin 8) ‚Üí PA1 (STM32 PWM –≤—Ö–æ–¥, TIM2_CH2) ‚Üí –º–µ—Ç–∫–∞ `STEERING_IN_PWM`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–æ—á–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ KiCad, –ø—Ä–æ—Å–ª–µ–¥–∏–≤ wires –æ—Ç –º–µ—Ç–æ–∫ –∫ –ø–∏–Ω–∞–º U4 –∏ STM32.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ U4 –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å—Ö–µ–º–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `schematic_review_ru.md`.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å TXS0104E –¥–ª—è –≤—Å–µ—Ö PWM —Å–∏–≥–Ω–∞–ª–æ–≤:

- –ö–∞–Ω–∞–ª—ã 1-2: PWM –≤—ã—Ö–æ–¥—ã (STM32 PA8/PA9 ‚Üí ESC/Servo)
- –ö–∞–Ω–∞–ª—ã 3-4: PWM –≤—Ö–æ–¥—ã (RC –ø—Ä–∏—ë–º–Ω–∏–∫ ‚Üí STM32 PA0/PA1)

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

```
VCCA ‚Üí 3.3V (—Å—Ç–æ—Ä–æ–Ω–∞ STM32)
VCCB ‚Üí 5V (—Å—Ç–æ—Ä–æ–Ω–∞ ESC/Servo –∏ RC –ø—Ä–∏—ë–º–Ω–∏–∫)
GND ‚Üí –æ–±—â–∞—è –∑–µ–º–ª—è

PWM –≤—ã—Ö–æ–¥—ã:
- A1 ‚Üí PA8 (STM32 PWM –≤—ã—Ö–æ–¥, TIM1_CH1)
- B1 ‚Üí ESC Signal (5V)
- A2 ‚Üí PA9 (STM32 PWM –≤—ã—Ö–æ–¥, TIM1_CH2)
- B2 ‚Üí Servo Signal (5V)

PWM –≤—Ö–æ–¥—ã:
- B3 ‚Üí RC Receiver CH1 (5V, –æ—Ç –ø—Ä–∏—ë–º–Ω–∏–∫–∞)
- A3 ‚Üí PA0 (STM32 PWM –≤—Ö–æ–¥, TIM2_CH1)
- B4 ‚Üí RC Receiver CH2 (5V, –æ—Ç –ø—Ä–∏—ë–º–Ω–∏–∫–∞)
- A4 ‚Üí PA1 (STM32 PWM –≤—Ö–æ–¥, TIM2_CH2)
```

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤ KiCad:**

1. –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —Å—Ö–µ–º—ã: `Place ‚Üí Symbol` –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ `A`
2. –í –ø–æ–∏—Å–∫–µ –≤–≤–µ–¥–∏—Ç–µ: `TXS0104E` –∏–ª–∏ `TXS`
3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Å–∫–∞—á–∞–π—Ç–µ —Å SnapEDA –∏–ª–∏ Ultra Librarian (—Å–º. `schematic_review_ru.md`)
4. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∫–æ—Ä–ø—É—Å: TSSOP-14 (TXS0104EPWR)

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∏

### 1. PWM –≤—ã—Ö–æ–¥—ã (PA8, PA9)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å—Ö–µ–º–µ

- PA8 ‚Üí –º–µ—Ç–∫–∞ `THROTTLE_OUT` (—á–µ—Ä–µ–∑ U4)
- PA9 ‚Üí –º–µ—Ç–∫–∞ `STEERING_OUT` (—á–µ—Ä–µ–∑ U4)

**‚úÖ –°—Ç–∞—Ç—É—Å:** PA8 –∏ PA9 –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ U4 (TXS0104ED) –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π 3.3V ‚Üí 5V.

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ KiCad:**

- [ ] PA8 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ A1 –Ω–∞ U4 (TXS0104ED) ‚Üí –º–µ—Ç–∫–∞ `THROTTLE_OUT`
- [ ] PA9 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ A2 –Ω–∞ U4 (TXS0104ED) ‚Üí –º–µ—Ç–∫–∞ `STEERING_OUT`
- [ ] B1 –Ω–∞ U4 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—É `ESC_Signal1` (5V)
- [ ] B2 –Ω–∞ U4 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—É `Servo_Signal1` (5V)

### 2. PWM –≤—Ö–æ–¥—ã (PA0, PA1)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å—Ö–µ–º–µ

- PA0 ‚Üí –º–µ—Ç–∫–∞ `THROTTLE_IN_PWM` (—á–µ—Ä–µ–∑ U4)
- PA1 ‚Üí –º–µ—Ç–∫–∞ `STEERING_IN_PWM` (—á–µ—Ä–µ–∑ U4)

**‚úÖ –°—Ç–∞—Ç—É—Å:** PA0 –∏ PA1 –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —á–µ—Ä–µ–∑ U4 (TXS0104ED) –¥–ª—è –∑–∞—â–∏—Ç—ã STM32 –æ—Ç 5V —Å–∏–≥–Ω–∞–ª–æ–≤.

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ KiCad:**

- [ ] PA0 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ A3 –Ω–∞ U4 (TXS0104ED) ‚Üí –º–µ—Ç–∫–∞ `THROTTLE_IN_PWM`
- [ ] PA1 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ A4 –Ω–∞ U4 (TXS0104ED) ‚Üí –º–µ—Ç–∫–∞ `STEERING_IN_PWM`
- [ ] B3 –Ω–∞ U4 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—É `RC_Receiver_CH1` (5V)
- [ ] B4 –Ω–∞ U4 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—É `RC_Receiver_CH2` (5V)

### 3. UART (PA2, PA3 ‚Üî ESP32-C3)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ

- PA2 (USART2_TX) ‚Üí –º–µ—Ç–∫–∞ `UART_TX_STM`
- PA3 (USART2_RX) ‚Üí –º–µ—Ç–∫–∞ `UART_RX_STM`
- ESP32-C3 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **GPIO6** (–º–µ—Ç–∫–∞ `ESP_IO6`) –∏ **GPIO7** (–º–µ—Ç–∫–∞ `ESP_IO7`)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º:** ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç 1C –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (GPIO6/GPIO7 –¥–ª—è UART1 –Ω–∞ ESP32-C3).

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ KiCad:**

- [ ] `UART_TX_STM` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ `ESP_IO6` (ESP32-C3 UART1 RX)
- [ ] `UART_RX_STM` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ `ESP_IO7` (ESP32-C3 UART1 TX)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** GPIO6/GPIO7 ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∏–Ω—ã, –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å USB –∏–ª–∏ strapping –ø–∏–Ω–∞–º–∏.

### 4. SPI –¥–ª—è LSM6DSM (PB13, PB14, PB15, PB12)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å—Ö–µ–º–µ

- PB13 (SPI2_SCK) ‚Üí –º–µ—Ç–∫–∞ `SPI3_SCK` (‚ö†Ô∏è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `SPI2_SCK`)
- PB15 (SPI2_MOSI) ‚Üí –º–µ—Ç–∫–∞ `SPI2_MOSI`
- PB14 (SPI2_MISO) ‚Üí –º–µ—Ç–∫–∞ `SPI2_MISO`
- PB12 (CS) ‚Üí –º–µ—Ç–∫–∞ `SPI2_LSM_CS`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º:** ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞ SPI2.

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ KiCad:**

- [ ] `SPI3_SCK` –∏–ª–∏ `SPI2_SCK` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PB13 (SPI2_SCK)
- [ ] `SPI2_MOSI` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PB15 (SPI2_MOSI)
- [ ] `SPI2_MISO` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PB14 (SPI2_MISO)
- [ ] `SPI2_LSM_CS` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PB12 (CS)
- [ ] LSM6DSM –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∏–Ω–∞–º (Mode 1 - –æ—Å–Ω–æ–≤–Ω–æ–π SPI 4-wire):
  - Pin 13 (SCL/SPC) ‚Üí PB13 (SCK)
  - Pin 14 (SDA/SDI) ‚Üí PB15 (MOSI)
  - Pin 1 (SDO/SA0) ‚Üí PB14 (MISO)
  - Pin 12 (CS) ‚Üí PB12 (CS)
  - **Pin 2 (SDX) ‚Üí GND** (–¥–ª—è Mode 1: Connect to VDDIO or GND, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è GND)
  - **Pin 3 (SCX) ‚Üí GND** (–¥–ª—è Mode 1, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

### 5. –ü–∏—Ç–∞–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

- U2: LP5907MFX-3.3 (—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä 3.3V)
- –í—Ö–æ–¥: 5V (–æ—Ç BEC)
- –í—ã—Ö–æ–¥: 3.3V –¥–ª—è STM32 –∏ LSM6DSM

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

- [ ] –ö–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –Ω–∞ –≤—Ö–æ–¥–µ –∏ –≤—ã—Ö–æ–¥–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–∞
- [ ] –û–±—â–∞—è –∑–µ–º–ª—è (GND) –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–∞–º –¥–ª—è LP5907MFX-3.3:**

–°–æ–≥–ª–∞—Å–Ω–æ datasheet LP5907MFX-3.3, —Ç—Ä–µ–±—É—é—Ç—Å—è:

**–í—Ö–æ–¥–Ω–æ–π –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä (–Ω–∞ IN, pin 1):**

- **–ú–∏–Ω–∏–º—É–º:** 1 ¬µF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π (X7R –∏–ª–∏ X5R)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 1-10 ¬µF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** 100nF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –ø–æ–º–µ—Ö

**–í—ã—Ö–æ–¥–Ω–æ–π –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä (–Ω–∞ OUT, pin 5):**

- **–ú–∏–Ω–∏–º—É–º:** 1 ¬µF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π (X7R –∏–ª–∏ X5R)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 1-10 ¬µF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π (–æ–±—ã—á–Ω–æ 2.2-4.7 ¬µF –¥–ª—è –ª—É—á—à–µ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** 100nF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –ø–æ–º–µ—Ö

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

- **–í—Ö–æ–¥:** 1 ¬µF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π (X7R, 10V –∏–ª–∏ –≤—ã—à–µ) + 100nF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- **–í—ã—Ö–æ–¥:** 2.2-4.7 ¬µF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π (X7R, 6.3V –∏–ª–∏ –≤—ã—à–µ) + 100nF –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

**–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã X7R –∏–ª–∏ X5R (–Ω–µ Y5V)
- –ù–æ–º–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã—à–µ —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è (–º–∏–Ω–∏–º—É–º 6.3V –¥–ª—è –≤—ã—Ö–æ–¥–∞, 10V –¥–ª—è –≤—Ö–æ–¥–∞)
- –†–∞–∑–º–µ—â–∞–π—Ç–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –∫–∞–∫ –º–æ–∂–Ω–æ –±–ª–∏–∂–µ –∫ –≤—ã–≤–æ–¥–∞–º —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–∞
- –í—ã—Ö–æ–¥–Ω–æ–π –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º–µ—â—ë–Ω —É–¥–∞–ª—ë–Ω–Ω–æ (remote placement), –Ω–æ –ª—É—á—à–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –±–ª–∏–∑–∫–æ

**–ü—Ä–∏–º–µ—Ä—ã –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–æ–≤:**

- **1 ¬µF:** 0805, X7R, 10V (–Ω–∞–ø—Ä–∏–º–µ—Ä, GRM21BR71A105KE15L –æ—Ç Murata)
- **2.2 ¬µF:** 0805, X7R, 6.3V (–Ω–∞–ø—Ä–∏–º–µ—Ä, GRM21BR60J225ME15L –æ—Ç Murata)
- **4.7 ¬µF:** 0805, X7R, 6.3V (–Ω–∞–ø—Ä–∏–º–µ—Ä, GRM21BR60J475ME15L –æ—Ç Murata)
- **100nF:** 0603 –∏–ª–∏ 0805, X7R, 10V (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä)

### 6. –ö–≤–∞—Ä—Ü–µ–≤—ã–π —Ä–µ–∑–æ–Ω–∞—Ç–æ—Ä HSE (High Speed External)

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ HSE –Ω–∞ STM32G431 (LQFP48):**

- **OSC_IN** (PF0, RCC_OSC_IN) ‚Üí –æ–¥–∏–Ω –≤—ã–≤–æ–¥ –∫–≤–∞—Ä—Ü–∞ HSE (8-25 MHz)
- **OSC_OUT** (PF1, RCC_OSC_OUT) ‚Üí –¥—Ä—É–≥–æ–π –≤—ã–≤–æ–¥ –∫–≤–∞—Ä—Ü–∞ HSE (8-25 MHz)
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã:** –ø–æ 10-22 pF –∫–∞–∂–¥—ã–π –æ—Ç –≤—ã–≤–æ–¥–∞ –∫–≤–∞—Ä—Ü–∞ –∫ GND

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –í –∫–æ—Ä–ø—É—Å–µ LQFP48:

- **PF0/PF1** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **HSE** (OSC_IN/OSC_OUT) ‚Äî –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –∫–≤–∞—Ä—Ü 8-25 MHz
- **PC14/PC15** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **LSE** (OSC32_IN/OSC32_OUT) ‚Äî –Ω–∏–∑–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –∫–≤–∞—Ä—Ü 32.768 kHz

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Å—Ö–µ–º–µ:**

- [ ] –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HSE: –∫–≤–∞—Ä—Ü 8-25 MHz –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PF0 (OSC_IN) –∏ PF1 (OSC_OUT)
- [ ] –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è LSE: –∫–≤–∞—Ä—Ü 32.768 kHz –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PC14 (OSC32_IN) –∏ PC15 (OSC32_OUT) ‚Äî —Å–º. —Ä–∞–∑–¥–µ–ª 6.1
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –¥–ª—è HSE (10-22pF –∫–∞–∂–¥—ã–π)
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –¥–ª—è LSE (6-12pF –∫–∞–∂–¥—ã–π) ‚Äî —Å–º. —Ä–∞–∑–¥–µ–ª 6.1

**‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è ERC –æ –Ω–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–∏–Ω–∞—Ö –∫–≤–∞—Ä—Ü–∞:**

–ï—Å–ª–∏ –≤ ERC –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —Ç–∏–ø–∞:

```
Warning: No net found for component Y1 pad 3 (no pin 3 in symbol).
Warning: No net found for component Y2 pad 3 (no pin 3 in symbol).
```

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**, –µ—Å–ª–∏:

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **4-–ø–∏–Ω–æ–≤—ã–π footprint** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Crystal_SMD_3225-4Pin_3.2x2.5mm`) —Å **2-–ø–∏–Ω–æ–≤—ã–º —Å–∏–º–≤–æ–ª–æ–º**
- –ü–∏–Ω—ã 3 –∏ 4 –≤ footprint ‚Äî —ç—Ç–æ **–∫–æ—Ä–ø—É—Å/—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–≤–∞—Ä—Ü–∞

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**

1. **–û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å** ‚Äî –ø–∏–Ω—ã 3 –∏ 4 –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ (NC)
2. **–ò–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ GND** ‚Äî –µ—Å–ª–∏ –≤ datasheet –∫–≤–∞—Ä—Ü–∞ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –∫–æ—Ä–ø—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–∑–µ–º–ª—ë–Ω
3. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 2-–ø–∏–Ω–æ–≤—ã–π footprint** ‚Äî –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Crystal_SMD_NDK_NX3225GD-2Pin_3.2x2.5mm`)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ (NC) ‚Äî –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ SMD –∫–≤–∞—Ä—Ü–µ–≤ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—Ä–ø—É—Å–∞.

### 6.1. LSE (Low Speed External) ‚Äî –ö–≤–∞—Ä—Ü 32.768 kHz –¥–ª—è RTC

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–≤–∞—Ä—Ü 32.768 kHz (Y1) –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**

- LSE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è RTC (Real-Time Clock) –≤ STM32G431
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–º –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º—ã –Ω–∏–∑–∫–æ–≥–æ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Å –∞–∫—Ç–∏–≤–Ω—ã–º RTC

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ LSE –Ω–∞ STM32G431 (LQFP48):**

- **OSC32_IN** (PC14, RCC_OSC32_IN) ‚Üí –æ–¥–∏–Ω –≤—ã–≤–æ–¥ –∫–≤–∞—Ä—Ü–∞ 32.768 kHz
- **OSC32_OUT** (PC15, RCC_OSC32_OUT) ‚Üí –¥—Ä—É–≥–æ–π –≤—ã–≤–æ–¥ –∫–≤–∞—Ä—Ü–∞ 32.768 kHz
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã:** –ø–æ 6-12 pF –∫–∞–∂–¥—ã–π –æ—Ç –≤—ã–≤–æ–¥–∞ –∫–≤–∞—Ä—Ü–∞ –∫ GND

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –í –∫–æ—Ä–ø—É—Å–µ LQFP48:

- **PC14/PC15** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **LSE** (OSC32_IN/OSC32_OUT) ‚Äî –Ω–∏–∑–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –∫–≤–∞—Ä—Ü 32.768 kHz
- **PF0/PF1** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **HSE** (OSC_IN/OSC_OUT) ‚Äî –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –∫–≤–∞—Ä—Ü 8-25 MHz

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Å—Ö–µ–º–µ:**

- [ ] Y1 (32.768 kHz) –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PC14 (OSC32_IN) –∏ PC15 (OSC32_OUT)
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –¥–ª—è LSE (6-12 pF –∫–∞–∂–¥—ã–π)
- [ ] –ö–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã —Ä–∞–∑–º–µ—â–µ–Ω—ã –±–ª–∏–∑–∫–æ –∫ –∫–≤–∞—Ä—Ü—É

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫–≤–∞—Ä—Ü–µ–≤—ã–µ —Ä–µ–∑–æ–Ω–∞—Ç–æ—Ä—ã 32.768 kHz:**

#### –í–∞—Ä–∏–∞–Ω—Ç 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π): SMD 3215

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–æ—Ä–ø—É—Å–∞ 3215 (3.2√ó1.5 –º–º):**

**1. ABL-32.768KHZ-B2 (Abracon) ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π**

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:** Abracon
- **–ú–æ–¥–µ–ª—å:** ABL-32.768KHZ-B2
- **–ß–∞—Å—Ç–æ—Ç–∞:** 32.768 kHz
- **–§–æ—Ä–º-—Ñ–∞–∫—Ç–æ—Ä:** SMD 3215 (3.2√ó1.5√ó0.9 –º–º)
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω–∞—è —ë–º–∫–æ—Å—Ç—å:** 12.5 pF
- **–¢–æ—á–Ω–æ—Å—Ç—å:** ¬±20 ppm
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω:** -40¬∞C –¥–æ +85¬∞C
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ –†–æ—Å—Å–∏–∏:** SMD.RU, TIXER.RU, –ü—Ä–æ–º—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞
- **KiCad –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `Crystal ‚Üí Crystal_SMD_3215-2Pin_3.2x1.5mm`

**2. ECS-3215MV-327-CN-TR (ECS Inc.)**

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:** ECS (ECS Inc.)
- **–ú–æ–¥–µ–ª—å:** ECS-3215MV-327-CN-TR
- **–ß–∞—Å—Ç–æ—Ç–∞:** 32.768 kHz
- **–§–æ—Ä–º-—Ñ–∞–∫—Ç–æ—Ä:** SMD 3215 (3.2√ó1.5√ó0.9 –º–º)
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω–∞—è —ë–º–∫–æ—Å—Ç—å:** 12.5 pF
- **–¢–æ—á–Ω–æ—Å—Ç—å:** ¬±20 ppm
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω:** -40¬∞C –¥–æ +85¬∞C
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ –†–æ—Å—Å–∏–∏:** SMD.RU, TIXER.RU
- **KiCad –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `Crystal ‚Üí Crystal_SMD_3215-2Pin_3.2x1.5mm`

**3. FC-3215-32.7680KA-A3 (Fox Electronics)**

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:** Fox Electronics
- **–ú–æ–¥–µ–ª—å:** FC-3215-32.7680KA-A3
- **–ß–∞—Å—Ç–æ—Ç–∞:** 32.768 kHz
- **–§–æ—Ä–º-—Ñ–∞–∫—Ç–æ—Ä:** SMD 3215 (3.2√ó1.5√ó0.9 –º–º)
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω–∞—è —ë–º–∫–æ—Å—Ç—å:** 12.5 pF
- **–¢–æ—á–Ω–æ—Å—Ç—å:** ¬±20 ppm
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω:** -40¬∞C –¥–æ +85¬∞C
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ –†–æ—Å—Å–∏–∏:** SMD.RU, TIXER.RU

**4. TXC 7B-32.7680KA-AC3 (TXC Corporation)**

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:** TXC Corporation
- **–ú–æ–¥–µ–ª—å:** 7B-32.7680KA-AC3
- **–ß–∞—Å—Ç–æ—Ç–∞:** 32.768 kHz
- **–§–æ—Ä–º-—Ñ–∞–∫—Ç–æ—Ä:** SMD 3215 (3.2√ó1.5√ó0.9 –º–º)
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω–∞—è —ë–º–∫–æ—Å—Ç—å:** 12.5 pF
- **–¢–æ—á–Ω–æ—Å—Ç—å:** ¬±20 ppm
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω:** -40¬∞C –¥–æ +85¬∞C
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ –†–æ—Å—Å–∏–∏:** SMD.RU, TIXER.RU, –ü—Ä–æ–º—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- **–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞:** ABL-32.768KHZ-B2 (Abracon) ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, —Ö–æ—Ä–æ—à–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** ECS-3215MV-327-CN-TR (ECS) ‚Äî —Ç–∞–∫–∂–µ –Ω–∞–¥–µ–∂–Ω–∞—è –º–æ–¥–µ–ª—å

#### –í–∞—Ä–∏–∞–Ω—Ç 2: SMD 5032

- **–ú–æ–¥–µ–ª—å:** ABL-32.768KHZ-B2 (5032 –∫–æ—Ä–ø—É—Å)
- **–§–æ—Ä–º-—Ñ–∞–∫—Ç–æ—Ä:** SMD 5032 (5.0√ó3.2 –º–º)
- **–ù–∞–≥—Ä—É–∑–æ—á–Ω–∞—è —ë–º–∫–æ—Å—Ç—å:** 12.5 pF
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä, –ª–µ–≥—á–µ –ø–∞—è—Ç—å

**–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –¥–ª—è LSE:**

- **–¢–∏–ø–∏—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** 6-12 pF –∫–∞–∂–¥—ã–π (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–π —ë–º–∫–æ—Å—Ç–∏ –∫–≤–∞—Ä—Ü–∞)
- **–§–æ—Ä–º—É–ª–∞:** `C_load = 2 √ó (C_spec - C_stray)`
  - –ì–¥–µ `C_spec` ‚Äî –Ω–∞–≥—Ä—É–∑–æ—á–Ω–∞—è —ë–º–∫–æ—Å—Ç—å –∫–≤–∞—Ä—Ü–∞ (–æ–±—ã—á–Ω–æ 12.5 pF –¥–ª—è 32.768 kHz)
  - `C_stray` ‚Äî –ø–∞—Ä–∞–∑–∏—Ç–Ω–∞—è —ë–º–∫–æ—Å—Ç—å (~3-5 pF)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** 10-15 pF –∫–∞–∂–¥—ã–π –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä
- **–¢–∏–ø:** –ö–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã NP0/C0G (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)

**–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**

1. **–ü–æ–ª—è—Ä–Ω–æ—Å—Ç—å –Ω–µ –≤–∞–∂–Ω–∞** ‚Äî –∫–≤–∞—Ä—Ü–µ–≤—ã–µ —Ä–µ–∑–æ–Ω–∞—Ç–æ—Ä—ã 32.768 kHz —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã
2. **–†–∞–∑–≤–æ–¥–∫–∞ –ø–ª–∞—Ç—ã:**
   - –ö–æ—Ä–æ—Ç–∫–∏–µ –¥–æ—Ä–æ–∂–∫–∏ –æ—Ç –∫–≤–∞—Ä—Ü–∞ –¥–æ STM32 (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 5-10 –º–º)
   - –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã —Ä–∞–∑–º–µ—â–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–æ –∫ –∫–≤–∞—Ä—Ü—É
   - –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç –ø–æ–º–µ—Ö (–∑–∞–∑–µ–º–ª–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ –∫–≤–∞—Ä—Ü–∞)
   - –ò–∑–±–µ–≥–∞—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ä—è–¥–æ–º —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –ø–æ–º–µ—Ö (–º–æ—â–Ω—ã–µ –ª–∏–Ω–∏–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏)
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (feedback resistor):**
   - –û–±—ã—á–Ω–æ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ STM32 –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä
   - –ï—Å–ª–∏ –∫–≤–∞—Ä—Ü –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑–∏—Å—Ç–æ—Ä 1-10 MŒ© –º–µ–∂–¥—É OSC32_IN –∏ OSC32_OUT (—Ä–µ–¥–∫–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
4. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ LSE:**
   - –ï—Å–ª–∏ LSE –Ω–µ –Ω—É–∂–µ–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π LSI (Low Speed Internal) ~32 kHz
   - LSI –º–µ–Ω–µ–µ —Ç–æ—á–µ–Ω, –Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**KiCad –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:**

- **–°–∏–º–≤–æ–ª:** `Crystal ‚Üí Crystal_SMD_3215-2Pin_3.2x1.5mm` –∏–ª–∏ `Crystal_SMD_2016-2Pin_2.0x1.6mm`
- **Footprint:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ—Ä–ø—É—Å–∞ (3215, 2016, 5032)

### 7. Reset –∏ Boot

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–Ω–æ–ø–∫–∞ Reset –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

- NRST –ø–æ–¥–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

- [ ] –ü–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä –Ω–∞ NRST –∫ 3.3V (–æ–±—ã—á–Ω–æ 10kŒ©)
- [ ] BOOT0 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ GND (–¥–ª—è —Ä–∞–±–æ—Ç—ã –∏–∑ Flash)

### 8. SWD Debug

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–∏–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Å—Ö–µ–º–µ

- PA13 (SWDIO)
- PA14 (SWCLK)

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

- [ ‚úÖ] –†–∞–∑—ä—ë–º –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ST-Link –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ –æ—Ç–ª–∞–¥—á–∏–∫–∞

## üìã –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

| –§—É–Ω–∫—Ü–∏—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–∏–Ω | –°—Ç–∞—Ç—É—Å –≤ —Å—Ö–µ–º–µ | –ü—Ä–æ–±–ª–µ–º—ã |
|---------|-------------------|----------------|----------|
| PWM ESC (Throttle) | PA8 (TIM1_CH1) | ‚úÖ –ù–∞–π–¥–µ–Ω (THROTTLE_OUT) | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ U4 |
| PWM Servo (Steering) | PA9 (TIM1_CH2) | ‚úÖ –ù–∞–π–¥–µ–Ω (STEERING_OUT) | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ U4 |
| RC Throttle In | PA0 (TIM2_CH1) | ‚úÖ –ù–∞–π–¥–µ–Ω (THROTTLE_IN_PWM) | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ U4 |
| RC Steering In | PA1 (TIM2_CH2) | ‚úÖ –ù–∞–π–¥–µ–Ω (STEERING_IN_PWM) | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ U4 |
| UART TX ‚Üí ESP32 | PA2 (USART2_TX) | ‚úÖ –ù–∞–π–¥–µ–Ω (UART_TX_STM) | ‚úÖ OK |
| UART RX ‚Üê ESP32 | PA3 (USART2_RX) | ‚úÖ –ù–∞–π–¥–µ–Ω (UART_RX_STM) | ‚úÖ OK |
| ESP32 UART RX | GPIO6 (UART1) | ‚úÖ –ù–∞–π–¥–µ–Ω (ESP_IO6) | ‚úÖ OK |
| ESP32 UART TX | GPIO7 (UART1) | ‚úÖ –ù–∞–π–¥–µ–Ω (ESP_IO7) | ‚úÖ OK |
| SPI SCK ‚Üí IMU | PB13 (SPI2_SCK) | ‚úÖ –ù–∞–π–¥–µ–Ω (SPI3_SCK) | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç–∫—É |
| SPI MOSI ‚Üí IMU | PB15 (SPI2_MOSI) | ‚úÖ –ù–∞–π–¥–µ–Ω (SPI2_MOSI) | ‚úÖ OK |
| SPI MISO ‚Üê IMU | PB14 (SPI2_MISO) | ‚úÖ –ù–∞–π–¥–µ–Ω (SPI2_MISO) | ‚úÖ OK |
| SPI CS ‚Üí IMU | PB12 (CS) | ‚úÖ –ù–∞–π–¥–µ–Ω (SPI2_LSM_CS) | ‚úÖ OK |
| Level Shifter | TXS0104ED (U4) | ‚úÖ –ù–∞–π–¥–µ–Ω | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ |
| LSE (32.768 kHz) | PC14/PC15 | ‚úÖ –ù–∞–π–¥–µ–Ω (OSC32_IN/OUT) | ‚úÖ OK |
| HSE (8-25 MHz) | PF0/PF1 | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Y2 | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ |

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ): –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ U4 (TXS0104ED)

1. ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç TXS0104ED —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ –∫–∞–∫ U4
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ö–µ–º–µ –≤—ã—à–µ:
   - VCCA ‚Üí 3.3V
   - VCCB ‚Üí 5V
   - GND ‚Üí –æ–±—â–∞—è –∑–µ–º–ª—è
   - A1 ‚Üí PA8, B1 ‚Üí ESC Signal
   - A2 ‚Üí PA9, B2 ‚Üí Servo Signal
   - B3 ‚Üí RC Receiver CH1, A3 ‚Üí PA0
   - B4 ‚Üí RC Receiver CH2, A4 ‚Üí PA1

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ—Ç–∞–ª–∏

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ LSM6DSM (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∏–Ω—ã)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∫–≤–∞—Ä—Ü–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä –Ω–∞ NRST
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã –Ω–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–µ

## üîç –ê–Ω–∞–ª–∏–∑ ERC (Electrical Rules Check)

**–§–∞–π–ª –æ—Ç—á–µ—Ç–∞:** `stm32_espc3_schemas/ERC.rpt`
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-23T00:52:32+0300
**–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π:** 1 (0 –æ—à–∏–±–æ–∫, 1 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–¢–õ–ò–ß–ù–û!** –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ 1 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (—Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

#### 1. –ü–∏—Ç–∞–Ω–∏–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ

**–û—à–∏–±–∫–∞:** `[power_pin_not_driven]` ‚Äî –ø–∏–Ω—ã –ø–∏—Ç–∞–Ω–∏—è –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º

- **#PWR01 Pin 1** ‚Äî power symbol –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –ø–∏—Ç–∞–Ω–∏—è
- **U2 Pin 1 (IN)** ‚Äî –≤—Ö–æ–¥ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–∞ LP5907MFX-3.3 –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –ø–∏—Ç–∞–Ω–∏—è
- **U4 Pin 14 (VCCB)** ‚Äî –ø–∏—Ç–∞–Ω–∏–µ 5V —Å—Ç–æ—Ä–æ–Ω—ã level-shifter –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

- ‚úÖ **#PWR018** ‚Äî —É–±—Ä–∞–Ω –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ **VBAT (U1 Pin 1)** ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚úÖ **–í–∏—Å—è—á–∏–µ –º–µ—Ç–∫–∏ SPI** ‚Äî —É–±—Ä–∞–Ω—ã –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
- ‚úÖ **–ö–æ–Ω—Ñ–ª–∏–∫—Ç 3V3 –∏ VDD5** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (—Ç–µ–ø–µ—Ä—å –Ω–µ –Ω–∞ –æ–¥–Ω–æ–π —Å–µ—Ç–∏)

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è #PWR01 –∏ U2 Pin 1 (IN):**

**–ß—Ç–æ —Ç–∞–∫–æ–µ #PWR01?**

- `#PWR01` ‚Äî —ç—Ç–æ power symbol (—Å–∏–º–≤–æ–ª –ø–∏—Ç–∞–Ω–∏—è) —Ç–∏–ø–∞ **GND** (–∑–µ–º–ª—è)
- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º `@(1050 mils, 950 mils)` –≤ —Å—Ö–µ–º–µ
- ERC —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ—Ç power symbol –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –ø–∏—Ç–∞–Ω–∏—è

**–ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞?**
–í KiCad ERC –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ power symbols —Ç–∏–ø–∞ "Power input" –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ power symbols —Ç–∏–ø–∞ "Power output" (–∏—Å—Ç–æ—á–Ω–∏–∫—É –ø–∏—Ç–∞–Ω–∏—è). –î–ª—è GND —ç—Ç–æ –æ–±—ã—á–Ω–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, –Ω–æ –µ—Å–ª–∏ GND –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –ø—Ä–æ–≤–æ–¥–∞–º–∏ –Ω–∏ –∫ —á–µ–º—É, ERC –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å –æ—à–∏–±–∫—É.

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å #PWR01 (GND):**

**–í–∞—Ä–∏–∞–Ω—Ç 1 (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π): –£–¥–∞–ª–∏—Ç—å –ª–∏—à–Ω–∏–π GND**

1. –ù–∞–π–¥–∏—Ç–µ –≤ —Å—Ö–µ–º–µ power symbol `#PWR01` (GND) –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º `@(1050 mils, 950 mils)`
2. –ï—Å–ª–∏ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–ª–∏ –¥—É–±–ª–∏—Ä—É–µ—Ç –¥—Ä—É–≥–æ–π GND ‚Äî –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ (–≤—ã–¥–µ–ª–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ `Delete`)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ GND symbols, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å #PWR01 –ø—Ä–æ–≤–æ–¥–∞–º–∏**

1. –ù–∞–π–¥–∏—Ç–µ `#PWR01` –≤ —Å—Ö–µ–º–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–¥–∫–ª—é—á–µ–Ω –ª–∏ –æ–Ω –ø—Ä–æ–≤–æ–¥–∞–º–∏ –∫ –¥—Ä—É–≥–∏–º GND –∏–ª–∏ –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–≤–æ–¥–∞–º–∏ –∫ –ª—é–±–æ–º—É –¥—Ä—É–≥–æ–º—É GND –≤ —Å—Ö–µ–º–µ
4. –í—Å–µ GND –≤ —Å—Ö–µ–º–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω—ã –ø—Ä–æ–≤–æ–¥–∞–º–∏ (—ç—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –æ–±—â—É—é –∑–µ–º–ª—é)

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Power Flag (–µ—Å–ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫)**

1. –ï—Å–ª–∏ `#PWR01` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø–∏—Ç–∞–Ω–∏—è (–Ω–µ GND), –¥–æ–±–∞–≤—å—Ç–µ Power Flag
2. `Place ‚Üí Power Flag` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–∏—Ç–∞–Ω–∏—è
3. ‚ö†Ô∏è –ù–æ –µ—Å–ª–∏ —ç—Ç–æ GND, —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è U2 Pin 1 (IN) ‚Äî –≤—Ö–æ–¥ LDO:**

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ö–æ–¥ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–∞ LP5907MFX-3.3 –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Ä–∞–∑—ä–µ–º—É –ø–∏—Ç–∞–Ω–∏—è –ø—Ä–æ–≤–æ–¥–∞–º–∏, –Ω–æ ERC –Ω–µ –≤–∏–¥–∏—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ—Ç power symbol.

**–í–∞—Ä–∏–∞–Ω—Ç 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è): –î–æ–±–∞–≤–∏—Ç—å power symbol `+5V` –∏–ª–∏ `VDD5`**

1. [ ] –ù–∞–∂–º–∏—Ç–µ `P` (–∏–ª–∏ `Place ‚Üí Power Symbol`)
2. [ ] –í —Å–ø–∏—Å–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ `+5V` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å –∏–º–µ–Ω–µ–º `VDD5`
3. [ ] –ü–æ–º–µ—Å—Ç–∏—Ç–µ power symbol —Ä—è–¥–æ–º —Å –≤—Ö–æ–¥–æ–º LDO (U2 Pin 1)
4. [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç–µ power symbol –∫ –≤—Ö–æ–¥—É LDO (U2 Pin 1) –ø—Ä–æ–≤–æ–¥–∞–º–∏
5. [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —ç—Ç–æ—Ç –∂–µ power symbol –∫ —Ä–∞–∑—ä–µ–º—É –ø–∏—Ç–∞–Ω–∏—è (PWR1) –ø—Ä–æ–≤–æ–¥–∞–º–∏
6. [ ] –¢–µ–ø–µ—Ä—å ERC —É–≤–∏–¥–∏—Ç, —á—Ç–æ –≤—Ö–æ–¥ LDO –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –ø–∏—Ç–∞–Ω–∏—è —á–µ—Ä–µ–∑ power symbol

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Power Flag**

1. [ ] `Place ‚Üí Power Flag`
2. [ ] –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–∏—Ç–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `+5V`)
3. [ ] –ü–æ–º–µ—Å—Ç–∏—Ç–µ Power Flag –Ω–∞ –≤—Ö–æ–¥ LDO (U2 Pin 1)
4. [ ] –≠—Ç–æ —É–∫–∞–∂–µ—Ç ERC, —á—Ç–æ –∑–¥–µ—Å—å –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –ø–∏–Ω–∞ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. [ ] –û—Ç–∫—Ä–æ–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å–∏–º–≤–æ–ª–æ–≤ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–∏–º–≤–æ–ª U2
2. [ ] –ò–∑–º–µ–Ω–∏—Ç–µ —Ç–∏–ø –ø–∏–Ω–∞ 1 (IN) —Å "Power input" –Ω–∞ "Passive"
3. [ ] ‚ö†Ô∏è **–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** ‚Äî –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —É—Å–ª–æ–∂–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ö–µ–º—ã

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

- ‚úÖ **VBAT** ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚úÖ **#PWR018** ‚Äî —É–±—Ä–∞–Ω –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω

#### 2. –ù–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –ø–∏–Ω—ã

**–û—à–∏–±–∫–∞:** `[pin_not_connected]` –∏ `[pin_not_driven]`

- **U4 Pin 8 (OE)** ‚Äî Output Enable –¥–ª—è TXS0104ED –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
- **U4 Pin 14 (VCCB)** ‚Äî –ø–∏—Ç–∞–Ω–∏–µ 5V —Å—Ç–æ—Ä–æ–Ω—ã level-shifter –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –ø–∏—Ç–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**

**U4 Pin 8 (OE):**

- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å OE –∫ **GND** –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è level-shifter (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- [ ] –ò–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ **VCCA (3.3V)** –¥–ª—è –≤—ã–∫–ª—é—á–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∫–ª—é—á–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ GND —á–µ—Ä–µ–∑ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—â–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä 10kŒ© –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –∫ GND

**U4 Pin 14 (VCCB):**

- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å VCCB (pin 14) –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É **5V** (–º–µ—Ç–∫–∞ `5V1` –∏–ª–∏ `VDD5`)
- **–í–∞–∂–Ω–æ:** VCCB ‚Äî —ç—Ç–æ –ø–∏—Ç–∞–Ω–∏–µ –¥–ª—è 5V —Å—Ç–æ—Ä–æ–Ω—ã level-shifter (ESC/Servo/RC –ø—Ä–∏—ë–º–Ω–∏–∫)
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ VCCB –ø–æ–¥–∫–ª—é—á–µ–Ω –ø—Ä–æ–≤–æ–¥–∞–º–∏, –Ω–æ –Ω–µ—Ç power symbol, –¥–æ–±–∞–≤—å—Ç–µ power symbol `+5V` –∏–ª–∏ `VDD5` –Ω–∞ —ç—Ç—É –ª–∏–Ω–∏—é

#### 3. –í–∏—Å—è—á–∏–µ –º–µ—Ç–∫–∏ (dangling labels)

**‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –í—Å–µ –≤–∏—Å—è—á–∏–µ –º–µ—Ç–∫–∏ SPI —É–±—Ä–∞–Ω—ã –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã

**–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):**

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `PC13` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è LED –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)

### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

#### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ bidirectional –ø–∏–Ω–∞ –∫ power output

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** `[pin_to_pin]` ‚Äî bidirectional –ø–∏–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ power output

- **U3 Pin 2 (SDX)** ‚Äî bidirectional –ø–∏–Ω LSM6DSM –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Power Flag (#FLG02)
- –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ SDX –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–∏—Ç–∞–Ω–∏–µ, –Ω–æ –æ–±—ã—á–Ω–æ —ç—Ç–æ —Å–∏–≥–Ω–∞–ª—å–Ω—ã–π –ø–∏–Ω

**–†–µ—à–µ–Ω–∏–µ:**

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ U3 Pin 2 (SDX):
  - –ï—Å–ª–∏ —ç—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏–≥–Ω–∞–ª—å–Ω—ã–π –ø–∏–Ω (SPI MISO –∏–ª–∏ –¥—Ä—É–≥–æ–π), —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
  - –ï—Å–ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–∏—Ç–∞–Ω–∏–µ, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
  - –û–±—ã—á–Ω–æ SDX –Ω–∞ LSM6DSM ‚Äî —ç—Ç–æ SPI MISO (bidirectional), –∞ –Ω–µ –ø–∏—Ç–∞–Ω–∏–µ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –∞ –Ω–µ –æ—à–∏–±–∫–∞. –°—Ö–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

### ‚úÖ –†–µ–∑—é–º–µ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º

**‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

**–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):**

1. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ U3 Pin 2 (SDX) ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª, –∞ –Ω–µ –ø–∏—Ç–∞–Ω–∏–µ
2. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `PC13` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ERC:**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ U3 Pin 2 (SDX) –ø–æ–¥–∫–ª—é—á–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (—ç—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏–≥–Ω–∞–ª—å–Ω—ã–π –ø–∏–Ω, –∞ –Ω–µ –ø–∏—Ç–∞–Ω–∏–µ)
2. [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ KiCad** –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è U4 (TXS0104ED):
   - –ü–∏—Ç–∞–Ω–∏–µ (VCCA, VCCB, GND)
   - OE ‚Üí GND ‚úÖ
   - PWM –≤—ã—Ö–æ–¥—ã (A1‚ÜíPA8, A2‚ÜíPA9, B1‚ÜíESC, B2‚ÜíServo)
   - PWM –≤—Ö–æ–¥—ã (A3‚ÜíPA0, A4‚ÜíPA1, B3‚ÜíRC_CH1, B4‚ÜíRC_CH2)
3. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Y2 (HSE –∫–≤–∞—Ä—Ü) –∫ PF0/PF1
4. [ ] **‚úÖ ERC –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞!** –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
5. [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—à–∏–≤–∫—É –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∏–Ω–æ–≤
6. [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑–≤–æ–¥–∫—É –ø–µ—á–∞—Ç–Ω–æ–π –ø–ª–∞—Ç—ã
7. [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å DRC –ø–æ—Å–ª–µ —Ä–∞–∑–≤–æ–¥–∫–∏

## üìö –°—Å—ã–ª–∫–∏

- [–î–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏](schematic_review_ru.md)
- [–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞ STM32G431](stm32g431_pinout_ru.md)
- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é TXS0104E –≤ KiCad](schematic_review_ru.md#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-txs0104e-–≤-kicad)
